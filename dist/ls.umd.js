(function(s,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("crypto-js")):typeof define=="function"&&define.amd?define(["exports","crypto-js"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.$ls={},s.CryptoJS))})(this,function(s,o){"use strict";const f=(e=>e&&typeof e=="object"&&"default"in e?e:{default:e})(o),u="_losting_ls_secret_key_";let n=globalThis[u]||"sX0pB2LJ171dOfzu";const i=e=>{n=e,globalThis[u]=e},y=e=>f.default.AES.encrypt(e,n).toString(),d=e=>f.default.AES.decrypt(e,n).toString(f.default.enc.Utf8);let c=globalThis.localStorage.getItem("LS_PREFIX")||"MOE__";const S=({prefix:e,secret:t})=>{e&&(c=e,globalThis.localStorage.setItem("LS_PREFIX",e)),t&&i(t)},b=e=>{globalThis[e||"localStorage"].clear()},g=(e,t)=>{if(t){if(typeof t=="string"){globalThis[t].removeItem(`${c}${e}`);return}if(typeof t=="object"){globalThis[t.type].removeItem(`${c}${e}`);return}}globalThis.localStorage.removeItem(`${c}${e}`)},T=(e,t)=>{const a=globalThis[(t==null?void 0:t.type)||"localStorage"].getItem(`${c}${e}`);if(!a)return;const l=JSON.parse(a);if(l.expires&&l.expires<=Date.now()){g(`${c}${e}`);return}return l.encrypt&&typeof l.value=="string"&&(l.value=d(l.value)),t!=null&&t.isRaw?l:l.value},_=(e,t,a)=>{let l,r;if(typeof t!="object"?(l=t,r=a):(l=t.value,r=t),(r==null?void 0:r.encrypt)&&typeof l=="object")throw new TypeError("encrypt value not support object");const h={value:(r==null?void 0:r.encrypt)&&l?y(l):t,expires:r!=null&&r.expires?Date.now()+r.expires:void 0,encrypt:r==null?void 0:r.encrypt};globalThis[(r==null?void 0:r.type)||"localStorage"].setItem(`${c}${e}`,JSON.stringify(h))};s.clear=b,s.customConfig=S,s.get=T,s.remove=g,s.set=_,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
