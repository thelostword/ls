var $ls=function(o){"use strict";const i=r=>{if(typeof r!="string"||!r)throw new TypeError("Input must be a string and cannot be empty!");const n=Math.floor(Math.random()*256),t=r.length,e=new Uint16Array(t+1);for(let a=0;a<=t;a++)e[a]=r.charCodeAt(a)^n;e[t]=n;const c=new Uint8Array(e.buffer),l=String.fromCharCode(...c);return btoa(l)},f=r=>{if(typeof r!="string"||!r)throw new TypeError("Input must be a string and cannot be empty!");const n=atob(r),t=new Uint8Array(n.length);for(let a=0;a<t.length;a++)t[a]=n.charCodeAt(a);const e=new Uint16Array(t.buffer),c=e.length-1,l=new Array(c);for(let a=0;a<c;a++)l[a]=String.fromCharCode(e[a]^e[c]);return l.join("")};let s=localStorage.getItem("__LS_PREFIX__")||"MOE_";const u=()=>void localStorage.clear(),g=r=>{if(!r)throw new Error("Missing key!");localStorage.removeItem(`${s}${r}`)},y=(r,n=!1)=>{if(!r)throw new Error("Missing key!");const t=localStorage.getItem(`${s}${r}`);if(!t)return;const e=JSON.parse(t);if(e.expires&&e.expires<=Date.now()){g(`${s}${r}`);return}return e.encrypt&&(e.value===""||e.value===null||e.value===void 0||typeof e.value=="string"&&(e.value=f(e.value)),e.__isJson&&(e.value=JSON.parse(f(e.value)))),n?e:e.value},d=(r,n,t)=>{if(!r)throw new Error("Missing key!");let e;const l={value:(()=>{if(n===""||n===null||n===void 0)return n;if(t!=null&&t.encrypt){if(typeof n=="string")return i(n);if(typeof n=="object")return e=!0,i(JSON.stringify(n))}return n})(),expires:t!=null&&t.expires?Date.now()+t.expires:0,encrypt:t==null?void 0:t.encrypt,__isJson:e};localStorage.setItem(`${s}${r}`,JSON.stringify(l))},h=r=>{if(r===s)return;const n=[];for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t),c=localStorage.getItem(e);if(e.startsWith(s)){const l=e.replace(new RegExp(`^${s}`),r);localStorage.setItem(l,c),n.push(e)}}s=r,localStorage.setItem("__LS_PREFIX__",r),n.forEach(t=>{localStorage.removeItem(t)})};return o.clear=u,o.decrypt=f,o.encrypt=i,o.get=y,o.remove=g,o.set=d,o.setPrefix=h,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),o}({});
